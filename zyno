local imgui = require("imgui")

local aimbotEnabled = false
local aimbotTarget = nil

local function drawMenu()
    if imgui.Begin("Menu", true) then
        imgui.Text("Menu")
        imgui.Separator()
        if imgui.Button("Enable Aimbot") then
            aimbotEnabled = not aimbotEnabled
        end
        if aimbotEnabled then
            imgui.Text("Aimbot is enabled")
        end
        imgui.Separator()
        if imgui.Button("Reset Aimbot") then
            aimbotTarget = nil
        end
        imgui.End()
    end
end

local function updateAimbot()
    if aimbotEnabled and aimbotTarget then
        local player = game.Players.LocalPlayer
        local mouse = player:GetMouse()
        local aimbotVector = (aimbotTarget.Character.HumanoidRootPart.Position - mouse.Hit.Position).Unit
        mouse.CFrame = mouse.CFrame + aimbotVector * 10
    end
end

local function update()
    drawMenu()
    updateAimbot()
end

local function input(input)
    if input.UserInputType == Enum.UserInputType.Keyboard and input.KeyCode == Enum.KeyCode.RightShift then
        drawMenu()
    end
    if input.UserInputType == Enum.UserInputType.MouseButton1 and aimbotEnabled then
        aimbotTarget = game.Workspace:FindFirstChild(input.UserInputState.Position.X .. "_" .. input.UserInputState.Position.Y .. "_" .. input.UserInputState.Position.Z)
    end
end

game:GetService("UserInputService").InputBegan:Connect(input)
game:GetService("UserInputService").InputChanged:Connect(input)
game:GetService("RunService").RenderStepped:Connect(update)
